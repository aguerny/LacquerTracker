<%- include('../layoutTop'); %>

<!-- content -->
<div class="wrapper row2">
    <div id="container" class="clear">
    <section>
        <div class="photo500">
            <form action="/checkin/<%= checkinid %>/edit" method="post">
                <h3>Edit your check-in:</h3><br><br>
                <img src=<%= checkinphoto %>><br><br><br>
                Edit short description:<br>
                <input type="type" name="description" maxlength="150" value="<%=checkindescription %>" class="width50">
                <br><br><br>
                Edit your polishes used:<br>
                <select multiple name="polish" id="select-polish" style="width:300px">
                    <% for (i=0; i<checkinpolish.length; i++) { %>
                        <option value="<%=checkinpolish[i].id%>" selected><%= checkinpolish[i].brand %> - <%= checkinpolish[i].name %></option>
                    <% } %>
                </select>
                <br><br><br>
                <input type="submit" value="Submit" class="button">
            </form>
        </div>
    </section>
    </div>
</div>

<script>
$("#select-polish").select2({
    placeholder: 'Type here to search',
    minimumInputLength: 2,
    ajax: {
        url: '/allpolish',
        type: 'POST',
        data: function(term) {
            return {
                term:term
            }
        },
        processResults: function (data) {
            return {
                results: $.map(data, function(obj) {
                    return { id: obj._id, text: obj.brand+" - "+obj.name};
                })
            };
        }
    }
});
</script>

<%- include('../layoutBottom'); %>