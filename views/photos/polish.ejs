<% include ../layoutTop %>

<!-- content -->
<div class="wrapper row2">
    <div id="container" class="clear">
        <section>
            <div id="photo-wrap">
                <div id="photo-left_col">
                    <form action="/photo/add/<%= pid %>" method="post" enctype='multipart/form-data'>
                        <h3>Add a Photo:</h3><br>
                        <h4><%= pbrand %> - <%= pname %></h4><br><br>
                        Upload Image: <input type="file" value="photo" name="photo" class="width50" id="upimg"><br><br><b>OR</b><br><br>
                        Add from URL: <input name="url" class="width50" id="urlimg"><br><br><br>
                        Credit:<br><input type="text" name="creditname" placeholder="credit name" class="width50"><br>
                        <input type="url" name="creditlink" placeholder="credit link" class="width50"><br><br>
                        <input type="submit" value="Submit" class="button">
                    </form>
                </div>
            <div id="photo-right_col">
                <div id="smalllayout"><br><hr></div>
                <br><b><i>Preview:</b></i><br><br>
                <img style="max-width:80%" id="preview" src="#">
            </div>
        </section>
    </div>
</div>

<script>
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#preview').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
    }
}

$("#upimg").change(function(){
    readURL(this);
});

$('#urlimg').on('change', function() {
     $('#preview').prop('src', this.value);
});
</script>

<% include ../layoutBottom %>